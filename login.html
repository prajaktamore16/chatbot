<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login and Registration form</title>

  <link rel="stylesheet" href="style.css">
  
  
</head>
<body>
    <header>
        <div class="wrapper">
         
            <ul class="nav-area">
               <li><a href="index1.html">Home</a></li>
               <li><a href="login.html">Login/Register</a></li>
               <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </div>
     
    </header>
    <!-- main login body -->
     <div class="first">
      <div class="form-box">
        <div class="button-box">
            <div id="btn"></div>
            <button type="button" class="toggle-btn" onclick="login()">Log in</button>
            <button type="button" class="toggle-btn"onclick="register()">Register</button>

        </div>
        <form  id="login" class="input-group">
            Enter Username:
            <input type="text" class="input-field" id="username" placeholder="Username" required>
            Enter Password:
            <input type="text" class="input-field" id="pwd" placeholder="password" required>
            <input type="checkbox" class="check-box"><span>Remember Password</span>
         
            <!-- formaction="index.html -->
            <button type="button" class="submit-btn" onclick="userlogin()">Log in</button>
            <p id="para"></p>
     
        </form>
        <form  id="register"class="input-group">
           
            <input type="text" class="input-field" id="firstName" placeholder="First Name" required>
            <input type="text" class="input-field" id="lastName" placeholder="Last Name" required>
            <input type="text" class="input-field" id="mobileno" placeholder="Mobile No" required>
            <input type="text" class="input-field" id="username" placeholder="username" required>
            <input type="text" class="input-field" id="password" placeholder="password" required>
            <input type="text" class="input-field" id="email" placeholder="email" required>
           <button type="submit" class="submit-btn">Register</button>
        </form>
      </div>
     </div>
     <script>
         var x= document.getElementById("login");
         var y= document.getElementById("register");
         var z= document.getElementById("btn");

         function register()
         {
             x.style.left="-400px";
             y.style.left="50px";
             z.style.left="110px";
         }
         function login()
         {
             x.style.left="50px";
             y.style.left="450px";
             z.style.left="0px";
         }
  function userlogin()
   {
     var username=document.getElementById('username').value;
     var pwd=document.getElementById('pwd').value;
     console.log("username="+username);
     console.log("password="+pwd);

       var url=`http://localhost:8087/register/loginuser?username=${username}&pwd=${pwd}`;
       var data;

  
     fetch(url,
       {method:"GET",})
     .then(response => response.json())
     .then(json=> 
     {  
        //  console.log(json)
        data=json;
        console.log(data);
         var err=data.error;
        //  console.log("error "+err);
         if(err)
         {
             alert("username password incorrect");
    
         }
          else{
               alert("login success");
               window.location.href="index.html";
          }
     })
    .catch(error => console.log(error));
   }
     </script>

</body>
</html>

